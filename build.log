#0 building with "desktop-linux" instance using docker driver

#1 [internal] load .dockerignore
#1 transferring context: 2B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.28kB done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-bookworm
#3 DONE 2.9s

#4 [ 1/11] FROM docker.io/library/node:18-bookworm@sha256:e7e0921e352fc579d4d1807ecb2a91f42548cb5097e8bd2742e13bd672b7dc4a
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 94.67kB 0.1s done
#5 DONE 0.1s

#6 [ 2/11] RUN apt-get update
#6 CACHED

#7 [ 3/11] RUN apt-get install -y     libx11-xcb1     libxcomposite1     libxdamage1     libxext6     libxfixes3     libnss3     libnspr4     libasound2     libatk1.0-0     libatk-bridge2.0-0     libcups2     libxrandr2     libpangocairo-1.0-0     libgtk-3-0     curl     jq     vim
#7 CACHED

#8 [ 4/11] RUN curl -fsSL https://deb.nodesource.com/setup_19.x | bash -
#8 CACHED

#9 [ 5/11] RUN apt-get install -y nodejs
#9 CACHED

#10 [ 6/11] RUN useradd -ms /bin/bash bbpro &&     apt-get update &&     apt-get install -y sudo &&     echo "bbpro ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
#10 CACHED

#11 [ 7/11] WORKDIR /home/bbpro/bbpro/
#11 CACHED

#12 [ 8/11] COPY . /home/bbpro/bbpro/
#12 DONE 0.5s

#13 [ 9/11] RUN chown -R bbpro:bbpro /home/bbpro/bbpro/
#13 DONE 1.3s

#14 [10/11] RUN yes | ./deploy-scripts/global_install.sh localhost
#14 0.155 
#14 0.155 
#14 0.155 
#14 0.155 Welcome to the BrowserBox Pro installation.
#14 0.155 Before proceeding, please note the following:
#14 0.155 
#14 0.155 
#14 0.155 Summary: without a validly purchased and current commercial license, this product is only valid for noncommercial use or under the terms of the AGPL.
#14 0.155 By proceeding with this installation, you confirm your agreement to the terms and conditions contained within the LICENSE file (https://github.com/dosyago/BrowserBoxPro/blob/boss/LICENSE.md), as well as the terms at https://dosyago.com/terms.txt and https://dosyago.com/privacy.txt.
#14 0.155 
#14 0.155 
#14 0.155 If you foresee using BrowserBoxPro for commercial purposes without complying with AGPL, you must purchase a license.
#14 0.155 Small volume licenses can be purchased on GumRoad (yearly or perpetual): https://dosy.gumroad.com/
#14 0.155 For large volume purchases, please visit our website: https://dosyago.com
#14 0.155 
#14 0.155 
#14 0.155 For other inquiries, you may contact sales@dosyago.com.
#14 0.155 
#14 0.155 
#14 0.156 You have agreed to the terms. Proceeding with the installation...
#14 0.202 
#14 0.202 WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
#14 0.202 
#14 0.207 Reading package lists...
#14 0.767 Building dependency tree...
#14 0.861 Reading state information...
#14 0.980 The following additional packages will be installed:
#14 0.980   iptables libip6tc2 libmnl0 libnetfilter-conntrack3 libnfnetlink0
#14 0.981   libnftables1 libnftnl11 libxtables12 nftables
#14 0.982 Suggested packages:
#14 0.982   firewalld kmod rsyslog
#14 1.064 The following NEW packages will be installed:
#14 1.064   iptables libip6tc2 libmnl0 libnetfilter-conntrack3 libnfnetlink0
#14 1.064   libnftables1 libnftnl11 libxtables12 net-tools nftables ufw
#14 1.311 0 upgraded, 11 newly installed, 0 to remove and 8 not upgraded.
#14 1.311 Need to get 1277 kB of archives.
#14 1.311 After this operation, 12.8 MB of additional disk space will be used.
#14 1.311 Get:1 http://deb.debian.org/debian bookworm/main arm64 libmnl0 arm64 1.0.4-3 [12.1 kB]
#14 1.368 Get:2 http://deb.debian.org/debian bookworm/main arm64 libnftnl11 arm64 1.2.4-2 [57.6 kB]
#14 1.369 Get:3 http://deb.debian.org/debian bookworm/main arm64 libxtables12 arm64 1.8.9-2 [29.6 kB]
#14 1.370 Get:4 http://deb.debian.org/debian bookworm/main arm64 libnftables1 arm64 1.0.6-2+deb12u1 [275 kB]
#14 1.377 Get:5 http://deb.debian.org/debian bookworm/main arm64 nftables arm64 1.0.6-2+deb12u1 [69.9 kB]
#14 1.379 Get:6 http://deb.debian.org/debian bookworm/main arm64 libip6tc2 arm64 1.8.9-2 [18.7 kB]
#14 1.380 Get:7 http://deb.debian.org/debian bookworm/main arm64 libnfnetlink0 arm64 1.0.2-2 [14.5 kB]
#14 1.380 Get:8 http://deb.debian.org/debian bookworm/main arm64 libnetfilter-conntrack3 arm64 1.0.9-3 [38.4 kB]
#14 1.382 Get:9 http://deb.debian.org/debian bookworm/main arm64 iptables arm64 1.8.9-2 [352 kB]
#14 1.391 Get:10 http://deb.debian.org/debian bookworm/main arm64 net-tools arm64 2.10-0.1 [241 kB]
#14 1.397 Get:11 http://deb.debian.org/debian bookworm/main arm64 ufw all 0.36.2-1 [168 kB]
#14 1.549 debconf: delaying package configuration, since apt-utils is not installed
#14 1.581 Fetched 1277 kB in 0s (3844 kB/s)
#14 1.600 Selecting previously unselected package libmnl0:arm64.
#14 1.600 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 39623 files and directories currently installed.)
#14 1.631 Preparing to unpack .../00-libmnl0_1.0.4-3_arm64.deb ...
#14 1.634 Unpacking libmnl0:arm64 (1.0.4-3) ...
#14 1.656 Selecting previously unselected package libnftnl11:arm64.
#14 1.658 Preparing to unpack .../01-libnftnl11_1.2.4-2_arm64.deb ...
#14 1.661 Unpacking libnftnl11:arm64 (1.2.4-2) ...
#14 1.693 Selecting previously unselected package libxtables12:arm64.
#14 1.697 Preparing to unpack .../02-libxtables12_1.8.9-2_arm64.deb ...
#14 1.699 Unpacking libxtables12:arm64 (1.8.9-2) ...
#14 1.722 Selecting previously unselected package libnftables1:arm64.
#14 1.725 Preparing to unpack .../03-libnftables1_1.0.6-2+deb12u1_arm64.deb ...
#14 1.727 Unpacking libnftables1:arm64 (1.0.6-2+deb12u1) ...
#14 1.764 Selecting previously unselected package nftables.
#14 1.766 Preparing to unpack .../04-nftables_1.0.6-2+deb12u1_arm64.deb ...
#14 1.767 Unpacking nftables (1.0.6-2+deb12u1) ...
#14 1.793 Selecting previously unselected package libip6tc2:arm64.
#14 1.796 Preparing to unpack .../05-libip6tc2_1.8.9-2_arm64.deb ...
#14 1.798 Unpacking libip6tc2:arm64 (1.8.9-2) ...
#14 1.819 Selecting previously unselected package libnfnetlink0:arm64.
#14 1.821 Preparing to unpack .../06-libnfnetlink0_1.0.2-2_arm64.deb ...
#14 1.824 Unpacking libnfnetlink0:arm64 (1.0.2-2) ...
#14 1.842 Selecting previously unselected package libnetfilter-conntrack3:arm64.
#14 1.844 Preparing to unpack .../07-libnetfilter-conntrack3_1.0.9-3_arm64.deb ...
#14 1.846 Unpacking libnetfilter-conntrack3:arm64 (1.0.9-3) ...
#14 1.874 Selecting previously unselected package iptables.
#14 1.876 Preparing to unpack .../08-iptables_1.8.9-2_arm64.deb ...
#14 1.878 Unpacking iptables (1.8.9-2) ...
#14 1.958 Selecting previously unselected package net-tools.
#14 1.961 Preparing to unpack .../09-net-tools_2.10-0.1_arm64.deb ...
#14 1.963 Unpacking net-tools (2.10-0.1) ...
#14 2.028 Selecting previously unselected package ufw.
#14 2.031 Preparing to unpack .../10-ufw_0.36.2-1_all.deb ...
#14 2.040 Unpacking ufw (0.36.2-1) ...
#14 2.087 Setting up net-tools (2.10-0.1) ...
#14 2.092 Setting up libip6tc2:arm64 (1.8.9-2) ...
#14 2.098 Setting up libmnl0:arm64 (1.0.4-3) ...
#14 2.104 Setting up libxtables12:arm64 (1.8.9-2) ...
#14 2.109 Setting up libnfnetlink0:arm64 (1.0.2-2) ...
#14 2.115 Setting up libnftnl11:arm64 (1.2.4-2) ...
#14 2.121 Setting up libnetfilter-conntrack3:arm64 (1.0.9-3) ...
#14 2.127 Setting up libnftables1:arm64 (1.0.6-2+deb12u1) ...
#14 2.134 Setting up nftables (1.0.6-2+deb12u1) ...
#14 2.205 Setting up iptables (1.8.9-2) ...
#14 2.216 update-alternatives: using /usr/sbin/iptables-legacy to provide /usr/sbin/iptables (iptables) in auto mode
#14 2.222 update-alternatives: using /usr/sbin/ip6tables-legacy to provide /usr/sbin/ip6tables (ip6tables) in auto mode
#14 2.226 update-alternatives: using /usr/sbin/iptables-nft to provide /usr/sbin/iptables (iptables) in auto mode
#14 2.229 update-alternatives: using /usr/sbin/ip6tables-nft to provide /usr/sbin/ip6tables (ip6tables) in auto mode
#14 2.233 update-alternatives: using /usr/sbin/arptables-nft to provide /usr/sbin/arptables (arptables) in auto mode
#14 2.237 update-alternatives: using /usr/sbin/ebtables-nft to provide /usr/sbin/ebtables (ebtables) in auto mode
#14 2.242 Setting up ufw (0.36.2-1) ...
#14 2.317 debconf: unable to initialize frontend: Dialog
#14 2.317 debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
#14 2.317 debconf: falling back to frontend: Readline
#14 2.324 debconf: unable to initialize frontend: Readline
#14 2.324 debconf: (This frontend requires a controlling tty.)
#14 2.324 debconf: falling back to frontend: Teletype
#14 2.380 
#14 2.380 Creating config file /etc/ufw/before.rules with new version
#14 2.421 
#14 2.421 Creating config file /etc/ufw/before6.rules with new version
#14 2.461 
#14 2.461 Creating config file /etc/ufw/after.rules with new version
#14 2.502 
#14 2.502 Creating config file /etc/ufw/after6.rules with new version
#14 2.743 Created symlink /etc/systemd/system/multi-user.target.wants/ufw.service → /lib/systemd/system/ufw.service.
#14 2.758 Processing triggers for libc-bin (2.36-9) ...
#14 2.926 ERROR: problem running ufw-init
#14 2.926 iptables v1.8.9 (nf_tables): Could not fetch rule set generation id: Permission denied (you must be root)
#14 2.926 iptables v1.8.9 (nf_tables): Could not fetch rule set generation id: Permission denied (you must be root)
#14 2.926 iptables v1.8.9 (nf_tables): Could not fetch rule set generation id: Permission denied (you must be root)
#14 2.926 
#14 2.946 
#14 2.946 WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
#14 2.946 
#14 2.948 Reading package lists...
#14 3.342 Building dependency tree...
#14 3.447 Reading state information...
#14 3.581 The following NEW packages will be installed:
#14 3.581   libnss3-tools
#14 3.691 0 upgraded, 1 newly installed, 0 to remove and 8 not upgraded.
#14 3.691 Need to get 982 kB of archives.
#14 3.691 After this operation, 5817 kB of additional disk space will be used.
#14 3.691 Get:1 http://deb.debian.org/debian bookworm/main arm64 libnss3-tools arm64 2:3.87.1-1 [982 kB]
#14 3.834 debconf: delaying package configuration, since apt-utils is not installed
#14 3.853 Fetched 982 kB in 0s (6639 kB/s)
#14 3.866 Selecting previously unselected package libnss3-tools.
#14 3.866 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 40065 files and directories currently installed.)
#14 3.884 Preparing to unpack .../libnss3-tools_2%3a3.87.1-1_arm64.deb ...
#14 3.885 Unpacking libnss3-tools (2:3.87.1-1) ...
#14 3.981 Setting up libnss3-tools (2:3.87.1-1) ...
#14 4.008   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#14 4.008                                  Dload  Upload   Total   Spent    Left  Speed
#14 4.008   0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   123  100   123    0     0    100      0  0:00:01  0:00:01 --:--:--   100100   123  100   123    0     0    100      0  0:00:01  0:00:01 --:--:--   100
#14 5.762   0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0
#14 7.156   0 4524k    0 16383    0     0   5205      0  0:14:50  0:00:03  0:14:47  5205100 4524k  100 4524k    0     0  1230k      0  0:00:03  0:00:03 --:--:-- 8506k
#14 8.546 Created a new local CA 💥
#14 9.311 The local CA is now installed in the system trust store! ⚡️
#14 9.311 
#14 9.796 
#14 9.796 Created a new certificate valid for the following names 📜
#14 9.796  - "localhost"
#14 9.796  - "127.0.0.1"
#14 9.796 
#14 9.796 The certificate is at "fullchain.pem" and the key at "privkey.pem" ✅
#14 9.796 
#14 9.796 It will expire on 26 October 2025 🗓
#14 9.796 
#14 9.798 Finding bbpro directory...Found bbpro at: /home/bbpro/bbpro
#14 9.803 Ensuring fully installed...
#14 9.804 ./deploy-scripts/global_install.sh: line 18: /home/bbpro/.nvm/nvm.sh: No such file or directory
#14 9.804 Installing nvm...
#14 9.812   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#14 9.812                                  Dload  Upload   Total   Spent    Left  Speed
#14 9.812   0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100 15037  100 15037    0     0  25025      0 --:--:-- --:--:-- --:--:-- 25061
#14 10.42 => Downloading nvm from git to '/home/bbpro/.nvm'
#14 10.42 => Cloning into '/home/bbpro/.nvm'...
#14 13.33 * (HEAD detached at FETCH_HEAD)
#14 13.33   master
#14 13.33 => Compressing and cleaning up git repository
#14 13.33 
#14 13.34 => Appending nvm source string to /home/bbpro/.bashrc
#14 13.35 => Appending bash_completion source string to /home/bbpro/.bashrc
#14 14.45 => You currently have modules installed globally with `npm`. These will no
#14 14.45 => longer be linked to the active version of Node when you install a new node
#14 14.45 => with `nvm`; and they may (depending on how you construct your `$PATH`)
#14 14.45 => override the binaries of modules installed with `nvm`:
#14 14.45 
#14 14.45 /usr/local/lib
#14 14.45 +-- corepack@0.18.0
#14 14.45 => If you wish to uninstall them at a later point (or re-install them under your
#14 14.45 => `nvm` Nodes), you can remove them from the system Node as follows:
#14 14.45 
#14 14.45      $ nvm use system
#14 14.45      $ npm uninstall -g a_module
#14 14.45 
#14 14.45 => Installing Node.js version 18.17.0
#14 15.46 Downloading and installing node v18.17.0...
#14 15.61 Downloading https://nodejs.org/dist/v18.17.0/node-v18.17.0-linux-arm64.tar.xz...
#14 15.73                                                                            0.5%####                                                                       6.4%#############                                                             19.0%########################                                                  34.4%####################################                                      50.6%#############################################                             63.2%####################################################                      73.6%################################################################          89.5%######################################################################## 100.0%
#14 16.74 Computing checksum with sha256sum
#14 16.82 Checksums matched!
#14 19.77 Now using node v18.17.0 (npm v9.6.7)
#14 19.95 Creating default alias: default -> 18.17.0 (-> v18.17.0 *)
#14 20.02 => Node.js version 18.17.0 has been successfully installed
#14 20.02 => Close and reopen your terminal to start using nvm or run the following to use it now:
#14 20.02 
#14 20.02 export NVM_DIR="$HOME/.nvm"
#14 20.02 [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
#14 20.02 [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
#14 21.35 Downloading and installing node v20.5.0...
#14 21.49 Downloading https://nodejs.org/dist/v20.5.0/node-v20.5.0-linux-arm64.tar.xz...
#14 21.61                                                                            0.5%#####                                                                      7.3%##############                                                            19.7%#######################                                                   33.1%################################                                          44.5%######################################                                    54.0%##############################################                            64.5%#######################################################                   76.6%###############################################################           88.5%######################################################################## 100.0%
#14 22.53 Computing checksum with sha256sum
#14 22.64 Checksums matched!
#14 25.73 Now using node v20.5.0 (npm v9.8.0)
#14 30.83 npm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility
#14 31.05 npm WARN deprecated csurf@1.11.0: Please use another csrf package
#14 32.01 npm WARN deprecated @types/form-data@2.5.0: This is a stub types definition. form-data provides its own type definitions, so you do not need this installed.
#14 32.01 npm WARN deprecated @types/is-docker@2.0.0: This is a stub types definition. is-docker provides its own type definitions, so you do not need this installed.
#14 45.91 
#14 45.91 > @dosy-private/bbpro@3.0.1 postinstall
#14 45.91 > bash ./scripts/postinstall.sh
#14 45.91 
#14 45.92 
#14 45.93 
#14 45.93 
#14 45.93 
#14 45.93 Running full setup...
#14 46.02 
#14 46.02 WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
#14 46.02 
#14 46.03 Reading package lists...